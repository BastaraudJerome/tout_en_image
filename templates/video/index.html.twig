{% extends 'base.html.twig' %}

{% block title %}Video{% endblock %}

{% block body %}
{% for label, messages in app.flashes(['success']) %}
    {% for message in messages %}
        <div class="alert alert-{{ label }} alert-dismissible fade show mt-3" role="alert">
            {{ message }}
            <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
{% endfor %}
<div class="row row-cols-1 row-cols-md-2 g-0 m-5">
    {% if videos|length > 0 %}
        {% for video in videos %}
            <div class="card m-3 move" style="width: 30rem;">
                <a href="{{path('VideoComments',{'id': video.id})}}">
                    <video width="100%" height="100%" controls>
                        <source src="{{ asset('images/videos/' ~ video.videoName ) }}" alt="{{ video.titre }}" type="video/mp4" >
                    </video>
                </a>
                <div class="card-body">
                    <h5 class="card-title">
                        <strong>Titre : </strong>
                        {{ video.titre }}
                    </h5>
                    <div class="card-text">
                        <strong>Description :</strong>
                        {{ video.description }}
                    </div>
                    
                    <strong>Genre : </strong>
                    {{ video.categorie }}
                </div>
            </div>            
        {% endfor %}
            {# {% if is_granted("ROLE_USER") %}
                <div class="container">
                    {{ form_start(video) }}
                    {{ form_widget(video) }}
                    {{ form_end(video) }}
                </div>
            {% endif %} #}
    {% else %}
            <div class="col-12">
                <h4>
                    Aucune videos 
                </h4>
            </div>
    {% endif %}
</div>
    
{% endblock %}
{% block javascripts %}
    <script>
            
            if($('.alert').length>0){               
                setTimeout(function(){                    
                    $('.alert').fadeOut(500, function(){$(".alert").remove()});
                },2000);
            }
        </script>
{% endblock %}

